{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\shops\\modules\\lxModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\shops\\modules\\lxModal.vue","mtime":1591844824332},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { filterObj } from \"@/utils/util\";\r\n// import { JeecgListMixin } from \"@/mixins/JeecgListMixin\";\r\nimport { getAction } from \"@/api/manage\";\r\nimport flvjs from 'flv.js/dist/flv.min.js';\r\nexport default {\r\n  name: \"lxModal\",\r\n  // mixins: [JeecgListMixin],\r\n\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      loading: false,\r\n      id: null,\r\n      url: {\r\n        UrlById: \"/system/live/record/findLivePlayUrlById\"\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n\r\n  },\r\n    mounted() {\r\n              if(flvjs.isSupported()){\r\n      this.player = flvjs.createPlayer({\r\n        type: 'flv',\r\n        isLive: 'true',\r\n        // url: 'http://play.dujialive.com/vlive/35200870.flv?txSecret=4fee6b96d17904c26c49a0b2d3792833&txTime=5ED615A8' //flv文件地址\r\n        url:this.contentList,\r\n      });\r\n    }\r\n      var videoElement = document.getElementsByClassName('videoElement');\r\n      this.player.attachMediaElement(videoElement);\r\n      this.player.load()\r\n  },\r\n  methods: {\r\n    open(record) {\r\n      this.id = record.id;\r\n      this.getContentModel(record.id);\r\n      this.visible = true;\r\n    },\r\n    handleCancel() {\r\n      this.$emit(\"close\");\r\n      this.contentList = \"\";\r\n      this.visible = false;\r\n      this.dataSource = [];\r\n    },\r\n    getContentModel(id) {\r\n      const that = this;\r\n     getAction(this.url.UrlById, { id: this.id }).then(res => {\r\n      if (res.success) {\r\n        console.log(res);\r\n        let record = res.result;\r\n\r\n        this.contentList = res.result.streamAddrUrl;\r\n        this.$forceUpdate();\r\n\r\n        console.log(this.contentList);\r\n      } else {\r\n        that.$message.warning(res.message);\r\n      }\r\n    });\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["lxModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lxModal.vue","sourceRoot":"src/views/shops/modules","sourcesContent":["<template>\r\n  <a-modal\r\n    title=\"成员列表\"\r\n    :width=\"1200\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    :footer=\"null\"\r\n    @cancel=\"handleCancel\"\r\n  >\r\n    <!-- <a-spin :spinning=\"confirmLoading\"> -->\r\n      <!-- <div> -->\r\n        <video  class=\"videoElement cover\" controls=\"controls\"></video>\r\n      <!-- </div> -->\r\n    <!-- </a-spin> -->\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\nimport { filterObj } from \"@/utils/util\";\r\n// import { JeecgListMixin } from \"@/mixins/JeecgListMixin\";\r\nimport { getAction } from \"@/api/manage\";\r\nimport flvjs from 'flv.js/dist/flv.min.js';\r\nexport default {\r\n  name: \"lxModal\",\r\n  // mixins: [JeecgListMixin],\r\n\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      loading: false,\r\n      id: null,\r\n      url: {\r\n        UrlById: \"/system/live/record/findLivePlayUrlById\"\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n\r\n  },\r\n    mounted() {\r\n              if(flvjs.isSupported()){\r\n      this.player = flvjs.createPlayer({\r\n        type: 'flv',\r\n        isLive: 'true',\r\n        // url: 'http://play.dujialive.com/vlive/35200870.flv?txSecret=4fee6b96d17904c26c49a0b2d3792833&txTime=5ED615A8' //flv文件地址\r\n        url:this.contentList,\r\n      });\r\n    }\r\n      var videoElement = document.getElementsByClassName('videoElement');\r\n      this.player.attachMediaElement(videoElement);\r\n      this.player.load()\r\n  },\r\n  methods: {\r\n    open(record) {\r\n      this.id = record.id;\r\n      this.getContentModel(record.id);\r\n      this.visible = true;\r\n    },\r\n    handleCancel() {\r\n      this.$emit(\"close\");\r\n      this.contentList = \"\";\r\n      this.visible = false;\r\n      this.dataSource = [];\r\n    },\r\n    getContentModel(id) {\r\n      const that = this;\r\n     getAction(this.url.UrlById, { id: this.id }).then(res => {\r\n      if (res.success) {\r\n        console.log(res);\r\n        let record = res.result;\r\n\r\n        this.contentList = res.result.streamAddrUrl;\r\n        this.$forceUpdate();\r\n\r\n        console.log(this.contentList);\r\n      } else {\r\n        that.$message.warning(res.message);\r\n      }\r\n    });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}