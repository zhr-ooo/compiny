{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\jeecg\\JeecgPdfView.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\jeecg\\JeecgPdfView.vue","mtime":1588673568188},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction } from '@/api/manage';\nimport { ACCESS_TOKEN } from \"@/store/mutation-types\";\nimport Vue from 'vue';\nimport PdfPreviewModal from \"./modules/PdfPreviewModal\";\nvar mockdata = [{\n  \"id\": \"1\",\n  \"key\": \"1\",\n  \"title\": \"实例.pdf\",\n  \"fileCode\": \"shili\",\n  \"fileName\": \"实例\",\n  \"filePdfPath\": \"实例\"\n}];\nexport default {\n  name: \"JeecgPdfView\",\n  components: {\n    PdfPreviewModal: PdfPreviewModal\n  },\n  data: function data() {\n    return {\n      description: 'PDF预览页面',\n      // 文件类型集\n      treeData: [{\n        title: '所有PDF电子档',\n        key: '0-0',\n        children: mockdata\n      }],\n      // 文件数据集\n      dataSource: mockdata,\n      allData: mockdata,\n      // 上传文件集\n      defaultExpandAll: true,\n      // 加载中\n      spinning: false,\n      url: {\n        pdfList: \"/api/pdfList\"\n      }\n    };\n  },\n  created: function created() {//this.loadData();\n  },\n  methods: {\n    loadData: function loadData() {\n      var _this = this;\n\n      this.spinning = false;\n      getAction(this.url.pdfList).then(function (res) {\n        if (res.length > 0) {\n          _this.allData = res;\n          _this.dataSource = res;\n          _this.treeData[0].children = res;\n        }\n\n        _this.spinning = false;\n      });\n    },\n    pdfPreview: function pdfPreview(title) {\n      var token = Vue.ls.get(ACCESS_TOKEN);\n      this.headers = {\n        \"X-Access-Token\": token\n      };\n      this.$refs.pdfmodal.previewFiles(title, token);\n    },\n    // 选择文件类型\n    onSelect: function onSelect(selectedKeys, info) {\n      this.dataSource = [];\n\n      if (selectedKeys[0] === undefined || selectedKeys[0] === '0-0') {\n        this.dataSource = this.allData;\n      } else {\n        this.dataSource.push(info.node._props.dataRef);\n      }\n\n      console.log(\"SELECT-->dataSource\", this.dataSource);\n    },\n    // model回调\n    modalFormOk: function modalFormOk() {\n      this.loadData();\n    }\n  }\n};",null]}