{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\account\\settings\\BaseSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\account\\settings\\BaseSetting.vue","mtime":1588673568159},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AvatarModal from \"./AvatarModal\";\nimport { getUserId, editUser } from '@/api/api';\nexport default {\n  components: {\n    AvatarModal: AvatarModal\n  },\n  data: function data() {\n    return {\n      // cropper\n      preview: {},\n      option: {\n        img: '/avatar2.jpg',\n        info: true,\n        size: 1,\n        outputType: 'jpeg',\n        canScale: false,\n        autoCrop: true,\n        // 只有自动截图开启 宽度高度才生效\n        autoCropWidth: 180,\n        autoCropHeight: 180,\n        fixedBox: true,\n        // 开启宽度和高度比例\n        fixed: true,\n        fixedNumber: [1, 1]\n      },\n      user: {}\n    };\n  },\n  created: function created() {\n    var userinfo = this.$store.getters.userInfo;\n    this.user = userinfo;\n    this.getUser(userinfo.id);\n  },\n  methods: {\n    changeUser: function changeUser() {\n      var that = this;\n      editUser(this.user).then(function (res) {\n        if (res.success) {\n          that.$message.success(res.message);\n        } else {\n          that.$message.warning(res.message);\n        }\n      });\n    },\n    // 根据id获取用户信息\n    getUser: function getUser(id) {\n      var userId = id;\n      var that = this;\n      getUserId({\n        id: userId\n      }).then(function (res) {\n        if (res.success) {\n          that.user = res.result;\n        } else {\n          console.log(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["BaseSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,OAAA,WAAA;AACA,SAAA,SAAA,EAAA,QAAA,QAAA,WAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA;AACA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA;AACA,QAAA,GAAA,EAAA,cADA;AAEA,QAAA,IAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,UAAA,EAAA,MAJA;AAKA,QAAA,QAAA,EAAA,KALA;AAMA,QAAA,QAAA,EAAA,IANA;AAOA;AACA,QAAA,aAAA,EAAA,GARA;AASA,QAAA,cAAA,EAAA,GATA;AAUA,QAAA,QAAA,EAAA,IAVA;AAWA;AACA,QAAA,KAAA,EAAA,IAZA;AAaA,QAAA,WAAA,EAAA,CAAA,CAAA,EAAA,CAAA;AAbA,OAHA;AAkBA,MAAA,IAAA,EAAA;AAlBA,KAAA;AAoBA,GAzBA;AA0BA,EAAA,OA1BA,qBA0BA;AACA,QAAA,QAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA;AACA,SAAA,IAAA,GAAA,QAAA;AACA,SAAA,OAAA,CAAA,QAAA,CAAA,EAAA;AACA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,QAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,SAFA,MAEA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OANA;AAOA,KAVA;AAWA;AACA,IAAA,OAZA,mBAYA,EAZA,EAYA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,SAAA,CAAA;AAAA,QAAA,EAAA,EAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,GAAA,CAAA,MAAA;AACA,SAFA,MAEA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OANA;AAOA;AAtBA;AA/BA,CAAA","sourcesContent":["<template>\n  <div class=\"account-settings-info-view\">\n    <a-row :gutter=\"16\">\n      <a-col :md=\"24\" :lg=\"16\">\n\n        <a-form layout=\"vertical\">\n          <a-form-item\n            label=\"姓名\"\n          >\n            <a-input placeholder=\"您自己的名字\" v-model=\"user.realname\" :readOnly=\"true\" />\n          </a-form-item>\n          <a-form-item\n            label=\"账号\"\n          >\n            <a-input placeholder=\"您的账号\" v-model=\"user.username\" :readOnly=\"true\" />\n          </a-form-item>\n          <a-form-item\n              label=\"性别\"\n          >\n            <a-select v-model=\"user.sex\">\n              <a-select-option :value=\"1\">男</a-select-option>\n              <a-select-option :value=\"2\">女</a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item\n              label=\"手机号码\"\n          >\n            <a-input placeholder=\"手机号\" v-model=\"user.phone\" />\n          </a-form-item>\n          <a-form-item\n              label=\"座机号\"\n          >\n            <a-input placeholder=\"座机号\" v-model=\"user.orgCode\" />\n          </a-form-item>\n\n          <a-form-item\n            label=\"电子邮件\"\n            :required=\"false\"\n          >\n            <a-input placeholder=\"eg:exp@admin.com\" v-model=\"user.email\"/>\n          </a-form-item>\n<!--          <a-form-item-->\n<!--            label=\"加密方式\"-->\n<!--            :required=\"false\"-->\n<!--          >-->\n<!--            <a-select defaultValue=\"aes-256-cfb\">-->\n<!--              <a-select-option value=\"aes-256-cfb\">aes-256-cfb</a-select-option>-->\n<!--              <a-select-option value=\"aes-128-cfb\">aes-128-cfb</a-select-option>-->\n<!--              <a-select-option value=\"chacha20\">chacha20</a-select-option>-->\n<!--            </a-select>-->\n<!--          </a-form-item>-->\n<!--          <a-form-item-->\n<!--            label=\"连接密码\"-->\n<!--            :required=\"false\"-->\n<!--          >-->\n<!--            <a-input placeholder=\"h3gSbecd\"/>-->\n<!--          </a-form-item>-->\n          <a-form-item\n            label=\"职位\"\n            :required=\"false\"\n          >\n            <a-input placeholder=\"您的职位\" v-model=\"user.avatar\"/>\n          </a-form-item>\n\n          <a-form-item>\n            <a-button type=\"primary\" @click=\"changeUser\">提交</a-button>\n<!--            <a-button style=\"margin-left: 8px\">保存</a-button>-->\n          </a-form-item>\n        </a-form>\n\n      </a-col>\n<!--      <a-col :md=\"24\" :lg=\"8\" :style=\"{ minHeight: '180px' }\">-->\n<!--        <div class=\"ant-upload-preview\" @click=\"$refs.modal.edit(1)\" >-->\n<!--          <a-icon type=\"cloud-upload-o\" class=\"upload-icon\"/>-->\n<!--          <div class=\"mask\">-->\n<!--            <a-icon type=\"plus\" />-->\n<!--          </div>-->\n<!--          <img :src=\"option.img\"/>-->\n<!--        </div>-->\n<!--      </a-col>-->\n\n    </a-row>\n\n    <avatar-modal ref=\"modal\">\n\n    </avatar-modal>\n  </div>\n</template>\n\n<script>\n  import AvatarModal from './AvatarModal'\n  import { getUserId, editUser } from '@/api/api'\n\n  export default {\n    components: {\n      AvatarModal\n    },\n    data () {\n      return {\n        // cropper\n        preview: {},\n        option: {\n          img: '/avatar2.jpg',\n          info: true,\n          size: 1,\n          outputType: 'jpeg',\n          canScale: false,\n          autoCrop: true,\n          // 只有自动截图开启 宽度高度才生效\n          autoCropWidth: 180,\n          autoCropHeight: 180,\n          fixedBox: true,\n          // 开启宽度和高度比例\n          fixed: true,\n          fixedNumber: [1, 1]\n        },\n        user: {}\n      }\n    },\n    created () {\n      let userinfo = this.$store.getters.userInfo;\n      this.user = userinfo;\n      this.getUser(userinfo.id);\n    },\n    methods: {\n      changeUser () {\n        const that = this;\n        editUser(this.user).then((res)=>{\n          if(res.success){\n            that.$message.success(res.message);\n          }else{\n            that.$message.warning(res.message);\n          }\n        })\n      },\n      // 根据id获取用户信息\n      getUser (id) {\n        let userId = id;\n        const that = this;\n        getUserId({id:userId}).then((res)=>{\n          if(res.success){\n            that.user = res.result;\n          }else{\n            console.log(res.message);\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .avatar-upload-wrapper {\n    height: 200px;\n    width: 100%;\n  }\n\n  .ant-upload-preview {\n    position: relative;\n    margin: 0 auto;\n    width: 100%;\n    max-width: 180px;\n    border-radius: 50%;\n    box-shadow: 0 0 4px #ccc;\n\n    .upload-icon {\n      position: absolute;\n      top: 0;\n      right: 10px;\n      font-size: 1.4rem;\n      padding: 0.5rem;\n      background: rgba(222, 221, 221, 0.7);\n      border-radius: 50%;\n      border: 1px solid rgba(0, 0, 0, 0.2);\n    }\n    .mask {\n      opacity: 0;\n      position: absolute;\n      background: rgba(0,0,0,0.4);\n      cursor: pointer;\n      transition: opacity 0.4s;\n\n      &:hover {\n        opacity: 1;\n      }\n\n      i {\n        font-size: 2rem;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin-left: -1rem;\n        margin-top: -1rem;\n        color: #d6d6d6;\n      }\n    }\n\n    img, .mask {\n      width: 100%;\n      max-width: 180px;\n      height: 100%;\n      border-radius: 50%;\n      overflow: hidden;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/account/settings"}]}