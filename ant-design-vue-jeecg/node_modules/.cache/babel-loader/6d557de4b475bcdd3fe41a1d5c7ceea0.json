{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\platform\\modules\\VipRetailModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\platform\\modules\\VipRetailModal.vue","mtime":1588673568229},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { httpAction } from \"@/api/manage\";\nimport pick from \"lodash.pick\";\nexport default {\n  name: \"VipRetailModal\",\n  data: function data() {\n    return {\n      title: \"操作\",\n      visible: false,\n      model: {},\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 5\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 16\n        }\n      },\n      confirmLoading: false,\n      disableSubmit: false,\n      form: this.$form.createForm(this),\n      validatorRules: {},\n      url: {\n        edit: \"/other/vipFenxiao/edit\"\n      }\n    };\n  },\n  created: function created() {},\n  methods: {\n    makeNumber: function makeNumber(rule, value, callback) {\n      if (value < 0 || value > 100) {\n        callback(\"数值应在0-100之间\");\n      } else {\n        callback();\n      }\n    },\n    add: function add() {\n      this.edit({});\n    },\n    edit: function edit(record) {\n      var _this = this;\n\n      this.form.resetFields();\n      this.model = Object.assign({}, record);\n      this.visible = true;\n      this.$nextTick(function () {\n        // this.$nextTick：等你页面刷新完之后，再执行回调函数中的方法\n        _this.form.setFieldsValue(pick(_this.model, \"identity\", \"directly\", \"indirect\", \"guide\", \"autherSuper\", \"forwarding\", \"freeReward\", \"directlyHigh\", \"indirectHigh\")); // pick：返回一个只有列入挑选key属性的对象。其中，参数object为JSON格式的对象，*keys表示多个需要挑选出来的key属性。\n\n      });\n    },\n    close: function close() {\n      this.$emit(\"close\");\n      this.visible = false;\n    },\n    handleOk: function handleOk() {\n      var _this2 = this;\n\n      var that = this; // 触发表单验证\n\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          that.confirmLoading = true;\n          var httpurl = \"\";\n          var method = \"\";\n\n          if (!_this2.model.id) {\n            httpurl += _this2.url.add;\n            method = \"post\";\n          } else {\n            httpurl += _this2.url.edit;\n            method = \"put\";\n          }\n\n          var formData = Object.assign(_this2.model, values); //时间格式化\n\n          console.log(formData);\n          httpAction(httpurl, formData, method).then(function (res) {\n            if (res.success) {\n              that.$message.success(res.message);\n              that.$emit(\"ok\");\n            } else {\n              that.$message.warning(res.message);\n            }\n          }).finally(function () {\n            that.confirmLoading = false;\n            that.close();\n          });\n        }\n      });\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    }\n  }\n};",{"version":3,"sources":["VipRetailModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <a-modal\n    :title=\"title\"\n    :width=\"600\"\n    :visible=\"visible\"\n    :confirmLoading=\"confirmLoading\"\n    :okButtonProps=\"{ props: {disabled: disableSubmit} }\"\n    @ok=\"handleOk\"\n    @cancel=\"handleCancel\"\n    cancelText=\"关闭\"\n  >\n    <a-spin :spinning=\"confirmLoading\">\n      <a-form :form=\"form\">\n        <a-form-item :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" label=\"分销角色\">\n          <a-input\n            style=\"margin-left:51px\"\n            placeholder=\"请输入分类名称\"\n            v-decorator=\"['identity', {}]\"\n            disabled\n          />\n        </a-form-item>\n        <a-form-item :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" label=\"直推\">\n          <a-input-number\n            style=\"margin-left:51px\"\n            v-decorator=\"[ 'directly', {rules: [{ required: true,message: '请输入直推' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" label=\"间推\">\n          <a-input-number\n            style=\"margin-left:51px\"\n            v-decorator=\"[ 'indirect', {rules: [{ required: true,message: '请输入间推' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item\n          :labelCol=\"labelCol\"\n          :wrapperCol=\"wrapperCol\"\n          label=\"直推创客达人或大使\"\n          style=\"width:800px\"\n        >\n          <a-input-number\n            v-decorator=\"[ 'directlyHigh', {rules: [{ required: true,message: '请输入直推创客达人或大使' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item\n          :labelCol=\"labelCol\"\n          :wrapperCol=\"wrapperCol\"\n          label=\"间推创客达人或大使\"\n          style=\"width:800px\"\n        >\n          <a-input-number\n            v-decorator=\"[ 'indirectHigh', {rules: [{ required: true,message: '请输入间推创客达人或大使' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item\n          :labelCol=\"labelCol\"\n          :wrapperCol=\"wrapperCol\"\n          label=\"课程引导奖\"\n          style=\"margin-left:20px\"\n        >\n          <a-input-number\n            style=\"margin-left:35px\"\n            v-decorator=\"[ 'guide', {rules: [{ required: true,message: '请输入课程引导奖' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item\n          :labelCol=\"labelCol\"\n          :wrapperCol=\"wrapperCol\"\n          label=\"课程发布者师傅\"\n          style=\"margin-left:20px\"\n        >\n          <a-input-number\n            style=\"margin-left:35px\"\n            v-decorator=\"[ 'autherSuper', {rules: [{ required: true,message: '请输入课程发布者师傅' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\" label=\"转发者\">\n          <a-input-number\n            style=\"margin-left:51px\"\n            v-decorator=\"[ 'forwarding', {rules: [{ required: true,message: '请输入转发者' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n        <a-form-item\n          :labelCol=\"labelCol\"\n          :wrapperCol=\"wrapperCol\"\n          label=\"免费奖励\"\n          style=\"margin-left:10px\"\n        >\n          <a-input-number\n            style=\"margin-left:41px\"\n            v-decorator=\"[ 'freeReward', {rules: [{ required: true,message: '请输入免费奖励' }, { validator: makeNumber}]}]\"\n            :disabled=\"disableSubmit\"\n          />\n        </a-form-item>\n      </a-form>\n    </a-spin>\n  </a-modal>\n</template>\n\n<script>\nimport { httpAction } from \"@/api/manage\";\nimport pick from \"lodash.pick\";\n\nexport default {\n  name: \"VipRetailModal\",\n  data() {\n    return {\n      title: \"操作\",\n      visible: false,\n      model: {},\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 5 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 }\n      },\n\n      confirmLoading: false,\n      disableSubmit: false,\n      form: this.$form.createForm(this),\n      validatorRules: {},\n      url: {\n        edit: \"/other/vipFenxiao/edit\"\n      }\n    };\n  },\n  created() {},\n  methods: {\n    makeNumber(rule, value, callback) {\n      if (value < 0 || value > 100) {\n        callback(\"数值应在0-100之间\");\n      } else {\n        callback();\n      }\n    },\n    add() {\n      this.edit({});\n    },\n    edit(record) {\n      this.form.resetFields();\n      this.model = Object.assign({}, record);\n      this.visible = true;\n      this.$nextTick(() => {\n        // this.$nextTick：等你页面刷新完之后，再执行回调函数中的方法\n        this.form.setFieldsValue(\n          pick(\n            this.model,\n            \"identity\",\n            \"directly\",\n            \"indirect\",\n            \"guide\",\n            \"autherSuper\",\n            \"forwarding\",\n            \"freeReward\",\n            \"directlyHigh\",\n            \"indirectHigh\"\n          )\n        );\n        // pick：返回一个只有列入挑选key属性的对象。其中，参数object为JSON格式的对象，*keys表示多个需要挑选出来的key属性。\n      });\n    },\n    close() {\n      this.$emit(\"close\");\n      this.visible = false;\n    },\n    handleOk() {\n      const that = this;\n      // 触发表单验证\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          that.confirmLoading = true;\n          let httpurl = \"\";\n          let method = \"\";\n          if (!this.model.id) {\n            httpurl += this.url.add;\n            method = \"post\";\n          } else {\n            httpurl += this.url.edit;\n            method = \"put\";\n          }\n          let formData = Object.assign(this.model, values);\n          //时间格式化\n          console.log(formData);\n          httpAction(httpurl, formData, method)\n            .then(res => {\n              if (res.success) {\n                that.$message.success(res.message);\n                that.$emit(\"ok\");\n              } else {\n                that.$message.warning(res.message);\n              }\n            })\n            .finally(() => {\n              that.confirmLoading = false;\n              that.close();\n            });\n        }\n      });\n    },\n    handleCancel() {\n      this.close();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"],"sourceRoot":"src/views/platform/modules"}]}