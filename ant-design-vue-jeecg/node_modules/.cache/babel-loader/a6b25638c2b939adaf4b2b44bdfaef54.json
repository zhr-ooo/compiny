{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\user\\Step3.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\user\\Step3.vue","mtime":1588673568277},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { putAction, getAction } from '@/api/manage';\nexport default {\n  name: \"Step3\",\n  //    components: {\n  //      Result\n  //    },\n  props: ['userList'],\n  data: function data() {\n    return {\n      loading: false,\n      form: this.$form.createForm(this),\n      accountName: this.userList.username,\n      validatorRules: {\n        username: {\n          rules: [{\n            required: true,\n            message: '用户名不能为空!'\n          }]\n        },\n        password: {\n          rules: [{\n            required: true,\n            pattern: /^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[~!@#$%^&*()_+`\\-={}:\";'<>?,.\\/]).{8,}$/,\n            message: '密码由8位数字、大小写字母和特殊符号组成!!'\n          }, {\n            validator: this.handlePasswordLevel\n          }]\n        },\n        confirmPassword: {\n          rules: [{\n            required: true,\n            message: '密码不能为空!'\n          }, {\n            validator: this.handlePasswordCheck\n          }]\n        }\n      }\n    };\n  },\n  methods: {\n    nextStep: function nextStep() {\n      var _this = this;\n\n      var that = this;\n      that.loading = true;\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          var params = {};\n          params.username = _this.userList.username;\n          params.password = values.password;\n          params.smscode = _this.userList.smscode;\n          params.phone = _this.userList.phone;\n          getAction(\"/sys/user/passwordChange\", params).then(function (res) {\n            if (res.success) {\n              var userList = {\n                username: _this.userList.username\n              };\n              console.log(userList);\n              setTimeout(function () {\n                that.$emit('nextStep', userList);\n              }, 1500);\n            } else {\n              _this.passwordFailed(res.message);\n\n              that.loading = false;\n            }\n          });\n        } else {\n          that.loading = false;\n        }\n      });\n    },\n    prevStep: function prevStep() {\n      this.$emit('prevStep', this.userList);\n    },\n    handlePasswordCheck: function handlePasswordCheck(rule, value, callback) {\n      var password = this.form.getFieldValue('password');\n\n      if (value && password && value.trim() !== password.trim()) {\n        callback(new Error('两次密码不一致'));\n      }\n\n      callback();\n    },\n    passwordFailed: function passwordFailed(err) {\n      this.$notification['error']({\n        message: \"更改密码失败\",\n        description: err,\n        duration: 4\n      });\n    }\n  }\n};",null]}