{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\shops\\modules\\lxModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\shops\\modules\\lxModal.vue","mtime":1591844824332},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { filterObj } from \"@/utils/util\"; // import { JeecgListMixin } from \"@/mixins/JeecgListMixin\";\n\nimport { getAction } from \"@/api/manage\";\nimport flvjs from 'flv.js/dist/flv.min.js';\nexport default {\n  name: \"lxModal\",\n  // mixins: [JeecgListMixin],\n  data: function data() {\n    return {\n      visible: false,\n      confirmLoading: false,\n      loading: false,\n      id: null,\n      url: {\n        UrlById: \"/system/live/record/findLivePlayUrlById\"\n      }\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    if (flvjs.isSupported()) {\n      this.player = flvjs.createPlayer({\n        type: 'flv',\n        isLive: 'true',\n        // url: 'http://play.dujialive.com/vlive/35200870.flv?txSecret=4fee6b96d17904c26c49a0b2d3792833&txTime=5ED615A8' //flv文件地址\n        url: this.contentList\n      });\n    }\n\n    var videoElement = document.getElementsByClassName('videoElement');\n    this.player.attachMediaElement(videoElement);\n    this.player.load();\n  },\n  methods: {\n    open: function open(record) {\n      this.id = record.id;\n      this.getContentModel(record.id);\n      this.visible = true;\n    },\n    handleCancel: function handleCancel() {\n      this.$emit(\"close\");\n      this.contentList = \"\";\n      this.visible = false;\n      this.dataSource = [];\n    },\n    getContentModel: function getContentModel(id) {\n      var _this = this;\n\n      var that = this;\n      getAction(this.url.UrlById, {\n        id: this.id\n      }).then(function (res) {\n        if (res.success) {\n          console.log(res);\n          var record = res.result;\n          _this.contentList = res.result.streamAddrUrl;\n\n          _this.$forceUpdate();\n\n          console.log(_this.contentList);\n        } else {\n          that.$message.warning(res.message);\n        }\n      });\n    }\n  }\n};",null]}