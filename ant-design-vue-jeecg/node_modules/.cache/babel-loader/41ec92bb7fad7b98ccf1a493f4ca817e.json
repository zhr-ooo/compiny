{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\shops\\modules\\lxModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\shops\\modules\\lxModal.vue","mtime":1591844824332},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { filterObj } from \"@/utils/util\"; // import { JeecgListMixin } from \"@/mixins/JeecgListMixin\";\n\nimport { getAction } from \"@/api/manage\";\nimport flvjs from 'flv.js/dist/flv.min.js';\nexport default {\n  name: \"lxModal\",\n  // mixins: [JeecgListMixin],\n  data: function data() {\n    return {\n      visible: false,\n      confirmLoading: false,\n      loading: false,\n      id: null,\n      url: {\n        UrlById: \"/system/live/record/findLivePlayUrlById\"\n      }\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    if (flvjs.isSupported()) {\n      this.player = flvjs.createPlayer({\n        type: 'flv',\n        isLive: 'true',\n        // url: 'http://play.dujialive.com/vlive/35200870.flv?txSecret=4fee6b96d17904c26c49a0b2d3792833&txTime=5ED615A8' //flv文件地址\n        url: this.contentList\n      });\n    }\n\n    var videoElement = document.getElementsByClassName('videoElement');\n    this.player.attachMediaElement(videoElement);\n    this.player.load();\n  },\n  methods: {\n    open: function open(record) {\n      this.id = record.id;\n      this.getContentModel(record.id);\n      this.visible = true;\n    },\n    handleCancel: function handleCancel() {\n      this.$emit(\"close\");\n      this.contentList = \"\";\n      this.visible = false;\n      this.dataSource = [];\n    },\n    getContentModel: function getContentModel(id) {\n      var _this = this;\n\n      var that = this;\n      getAction(this.url.UrlById, {\n        id: this.id\n      }).then(function (res) {\n        if (res.success) {\n          console.log(res);\n          var record = res.result;\n          _this.contentList = res.result.streamAddrUrl;\n\n          _this.$forceUpdate();\n\n          console.log(_this.contentList);\n        } else {\n          that.$message.warning(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["lxModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkBA,SAAA,SAAA,QAAA,cAAA,C,CACA;;AACA,SAAA,SAAA,QAAA,cAAA;AACA,OAAA,KAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA;AAEA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,EAAA,EAAA,IAJA;AAKA,MAAA,GAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA;AALA,KAAA;AASA,GAdA;AAeA,EAAA,OAfA,qBAeA,CAEA,CAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,QAAA,KAAA,CAAA,WAAA,EAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA,CAAA,YAAA,CAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA;AACA,QAAA,GAAA,EAAA,KAAA;AAJA,OAAA,CAAA;AAMA;;AACA,QAAA,YAAA,GAAA,QAAA,CAAA,sBAAA,CAAA,cAAA,CAAA;AACA,SAAA,MAAA,CAAA,kBAAA,CAAA,YAAA;AACA,SAAA,MAAA,CAAA,IAAA;AACA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,MADA,EACA;AACA,WAAA,EAAA,GAAA,MAAA,CAAA,EAAA;AACA,WAAA,eAAA,CAAA,MAAA,CAAA,EAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KALA;AAMA,IAAA,YANA,0BAMA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,KAXA;AAYA,IAAA,eAZA,2BAYA,EAZA,EAYA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,SAAA,CAAA,KAAA,GAAA,CAAA,OAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,cAAA,MAAA,GAAA,GAAA,CAAA,MAAA;AAEA,UAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA,CAAA,aAAA;;AACA,UAAA,KAAA,CAAA,YAAA;;AAEA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,WAAA;AACA,SARA,MAQA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAZA;AAaA;AA3BA;AA/BA,CAAA","sourcesContent":["<template>\r\n  <a-modal\r\n    title=\"成员列表\"\r\n    :width=\"1200\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    :footer=\"null\"\r\n    @cancel=\"handleCancel\"\r\n  >\r\n    <!-- <a-spin :spinning=\"confirmLoading\"> -->\r\n      <!-- <div> -->\r\n        <video  class=\"videoElement cover\" controls=\"controls\"></video>\r\n      <!-- </div> -->\r\n    <!-- </a-spin> -->\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\nimport { filterObj } from \"@/utils/util\";\r\n// import { JeecgListMixin } from \"@/mixins/JeecgListMixin\";\r\nimport { getAction } from \"@/api/manage\";\r\nimport flvjs from 'flv.js/dist/flv.min.js';\r\nexport default {\r\n  name: \"lxModal\",\r\n  // mixins: [JeecgListMixin],\r\n\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      loading: false,\r\n      id: null,\r\n      url: {\r\n        UrlById: \"/system/live/record/findLivePlayUrlById\"\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n\r\n  },\r\n    mounted() {\r\n              if(flvjs.isSupported()){\r\n      this.player = flvjs.createPlayer({\r\n        type: 'flv',\r\n        isLive: 'true',\r\n        // url: 'http://play.dujialive.com/vlive/35200870.flv?txSecret=4fee6b96d17904c26c49a0b2d3792833&txTime=5ED615A8' //flv文件地址\r\n        url:this.contentList,\r\n      });\r\n    }\r\n      var videoElement = document.getElementsByClassName('videoElement');\r\n      this.player.attachMediaElement(videoElement);\r\n      this.player.load()\r\n  },\r\n  methods: {\r\n    open(record) {\r\n      this.id = record.id;\r\n      this.getContentModel(record.id);\r\n      this.visible = true;\r\n    },\r\n    handleCancel() {\r\n      this.$emit(\"close\");\r\n      this.contentList = \"\";\r\n      this.visible = false;\r\n      this.dataSource = [];\r\n    },\r\n    getContentModel(id) {\r\n      const that = this;\r\n     getAction(this.url.UrlById, { id: this.id }).then(res => {\r\n      if (res.success) {\r\n        console.log(res);\r\n        let record = res.result;\r\n\r\n        this.contentList = res.result.streamAddrUrl;\r\n        this.$forceUpdate();\r\n\r\n        console.log(this.contentList);\r\n      } else {\r\n        that.$message.warning(res.message);\r\n      }\r\n    });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/views/shops/modules"}]}