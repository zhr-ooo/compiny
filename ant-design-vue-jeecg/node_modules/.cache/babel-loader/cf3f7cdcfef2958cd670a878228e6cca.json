{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\consumer\\modules\\AppUserInfoAgentModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\consumer\\modules\\AppUserInfoAgentModal.vue","mtime":1588673568170},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { postAction } from \"@/api/manage\";\nexport default {\n  name: \"AppUserInfoAgentModal\",\n  data: function data() {\n    return {\n      title: \"设置市代理\",\n      visible: false,\n      loading: false,\n      id: '',\n      provinceid: null,\n      // 省级id\n      cityid: null,\n      //市级id\n      confirmLoading: false,\n      disSubmit: false,\n      provinceList: [],\n      cityList: [],\n      url: {\n        setAgent: \"/system/appuserinfo/setToAgent\",\n        provinceSelect: '/other/select/provinceSelect',\n        // 省级下拉选\n        citySelect: '/other/select/citySelect' //市级下拉选\n\n      }\n    };\n  },\n  methods: {\n    open: function open(record) {\n      this.visible = true;\n      this.id = record.userid;\n      this.getPro();\n    },\n    close: function close() {\n      this.$emit('close');\n      this.visible = false;\n      this.id = '';\n      this.provinceid = '';\n      this.cityid = '';\n    },\n    handleOk: function handleOk() {\n      var that = this;\n      that.confirmLoading = true;\n      var arr = \"?userid=\".concat(this.id, \"&cityid=\").concat(this.cityid);\n      var thisurl = this.url.setAgent;\n      console.log(thisurl + arr);\n      postAction(thisurl + arr).then(function (res) {\n        if (res.success) {\n          that.$message.success(res.message);\n          that.$emit('ok');\n        } else {\n          that.$message.warning(res.message);\n        }\n      }).finally(function () {\n        that.confirmLoading = false;\n        that.close();\n      });\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    },\n    // 获取省级数据\n    getPro: function getPro() {\n      var that = this;\n      postAction(this.url.provinceSelect).then(function (res) {\n        if (res.success) {\n          that.provinceList = res.result;\n        } else {\n          that.$message.warning(res.message);\n        }\n      });\n    },\n    //  选择的时候获取市级数据\n    handelPro: function handelPro(value) {\n      var that = this;\n      that.cityList = [];\n      var arr = \"?fatherid=\".concat(value);\n      postAction(this.url.citySelect + arr).then(function (res) {\n        if (res.success) {\n          that.cityList = res.result;\n        } else {\n          that.$message.warning(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["AppUserInfoAgentModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-modal\r\n    :title=\"title\"\r\n    :width=\"800\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    cancelText=\"关闭\">\r\n\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-row :gutter=\"16\">\r\n        <a-col :lg=\"2\">\r\n          省市:\r\n        </a-col>\r\n        <a-col :lg=\"8\">\r\n          <a-select placeholder=\"请选择省份\" v-model=\"provinceid\" @change=\"handelPro\">\r\n            <a-select-option v-for=\"(item) in provinceList\" :key=\"item.id\" :value=\"item.id\">{{ item.name }}</a-select-option>\r\n          </a-select>\r\n        </a-col>\r\n        <a-col :lg=\"3\">\r\n          会员充值:\r\n        </a-col>\r\n        <a-col :lg=\"8\">\r\n          <a-select v-model=\"cityid\" placeholder=\"请选则市级\">\r\n            <a-select-option v-for=\"(item) in cityList\" :key=\"item.cityid\" :value=\"item.cityid\">{{ item.name }}</a-select-option>\r\n          </a-select>\r\n        </a-col>\r\n      </a-row>\r\n    </a-spin>\r\n\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import { postAction } from \"@/api/manage\";\r\n\r\n  export default {\r\n    name: \"AppUserInfoAgentModal\",\r\n    data () {\r\n      return {\r\n        title:\"设置市代理\",\r\n        visible: false,\r\n        loading: false,\r\n        id: '',\r\n        provinceid: null,     // 省级id\r\n        cityid: null,      //市级id\r\n        confirmLoading: false,\r\n        disSubmit: false,\r\n        provinceList: [],\r\n        cityList: [],\r\n        url: {\r\n          setAgent: \"/system/appuserinfo/setToAgent\",\r\n          provinceSelect: '/other/select/provinceSelect',    // 省级下拉选\r\n          citySelect: '/other/select/citySelect'    //市级下拉选\r\n        },\r\n      }\r\n    },\r\n    methods: {\r\n      open (record) {\r\n        this.visible = true;\r\n        this.id = record.userid;\r\n        this.getPro();\r\n      },\r\n      close () {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n        this.id = '';\r\n        this.provinceid = '';\r\n        this.cityid = '';\r\n      },\r\n      handleOk () {\r\n        const that = this;\r\n        that.confirmLoading = true;\r\n        let arr = `?userid=${this.id}&cityid=${this.cityid}`;\r\n        let thisurl = this.url.setAgent;\r\n        console.log(thisurl + arr);\r\n        postAction(thisurl + arr).then((res) => {\r\n          if(res.success){\r\n            that.$message.success(res.message);\r\n            that.$emit('ok');\r\n          }else{\r\n            that.$message.warning(res.message);\r\n          }\r\n        }).finally(() => {\r\n          that.confirmLoading = false;\r\n          that.close();\r\n        })\r\n      },\r\n      handleCancel () {\r\n        this.close()\r\n      },\r\n      // 获取省级数据\r\n      getPro () {\r\n        const that = this;\r\n        postAction(this.url.provinceSelect).then((res) => {\r\n          if(res.success){\r\n            that.provinceList = res.result;\r\n          }else{\r\n            that.$message.warning(res.message);\r\n          }\r\n        })\r\n      },\r\n    //  选择的时候获取市级数据\r\n      handelPro (value) {\r\n        const that = this;\r\n        that.cityList = [];\r\n        let arr = `?fatherid=${value}`;\r\n        postAction(this.url.citySelect + arr).then((res) => {\r\n          if(res.success){\r\n            that.cityList = res.result;\r\n          }else{\r\n            that.$message.warning(res.message);\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .ant-select {\r\n    width: 80%;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/consumer/modules"}]}