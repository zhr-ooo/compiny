{"remainingRequest":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\team\\modules\\BigTeamLookModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\src\\views\\team\\modules\\BigTeamLookModal.vue","mtime":1588673568273},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gitweb\\vcloudsapce_web\\ant-design-vue-jeecg\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction } from \"@/api/manage\";\nexport default {\n  name: \"BigTeamLookModal\",\n  data: function data() {\n    return {\n      visible: false,\n      confirmLoading: false,\n      teamId: null,\n      loading: false,\n      dataSource: [],\n      // 表头\n      columns: [{\n        title: '昵称',\n        align: \"center\",\n        dataIndex: 'nickName'\n      }, {\n        title: '手机号',\n        align: \"center\",\n        dataIndex: 'phone'\n      }, {\n        title: 'V云号',\n        align: \"center\",\n        dataIndex: 'code'\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        align: \"center\",\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      url: {\n        list: '/system/appuserinfo/findBigTeamUserList',\n        delete: '/system/appuserinfo/delTeamByUserId'\n      }\n    };\n  },\n  methods: {\n    open: function open(record) {\n      this.visible = true;\n      this.teamId = record.id;\n      this.loadData();\n    },\n    loadData: function loadData() {\n      var _this = this;\n\n      if (!this.url.list) {\n        this.$message.error(\"请设置url.list属性!\");\n        return;\n      }\n\n      var params = {\n        teamId: this.teamId\n      }; //查询条件\n\n      this.loading = true;\n      getAction(this.url.list, params).then(function (res) {\n        if (res.success) {\n          _this.dataSource = res.result;\n        }\n\n        if (res.code === 510) {\n          _this.$message.warning(res.message);\n        }\n\n        _this.loading = false;\n      });\n    },\n    handleCancel: function handleCancel() {\n      this.$emit('close');\n      this.visible = false;\n    },\n    //  删除成员\n    lookDelete: function lookDelete(userId) {\n      var _this2 = this;\n\n      var param = {\n        teamId: this.teamId,\n        userId: userId\n      };\n      var that = this;\n      that.confirmLoading = true;\n      getAction(this.url.delete, param).then(function (res) {\n        if (res.success) {\n          that.$message.success(res.message);\n        } else {\n          that.$message.warning(res.message);\n        }\n      }).finally(function () {\n        that.confirmLoading = false;\n\n        _this2.loadData();\n      });\n    }\n  }\n};",{"version":3,"sources":["BigTeamLookModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-modal\r\n    title=\"团员列表\"\r\n    :width=\"800\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    :footer=\"null\"\r\n    @cancel=\"handleCancel\"\r\n  >\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-table\r\n        ref=\"table\"\r\n        size=\"middle\"\r\n        bordered\r\n        rowKey=\"id\"\r\n        :columns=\"columns\"\r\n        :dataSource=\"dataSource\"\r\n        :loading=\"loading\">\r\n    \r\n        <span slot=\"action\" slot-scope=\"text, record\">\r\n          <a-popconfirm title=\"确定删除吗?\" @confirm=\"() => lookDelete(record.userId)\">\r\n            <a>删除</a>\r\n          </a-popconfirm>\r\n        </span>\r\n  \r\n      </a-table>\r\n    </a-spin>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\n  import { getAction } from \"@/api/manage\";\r\n\r\n  export default {\r\n    name: \"BigTeamLookModal\",\r\n    data () {\r\n      return {\r\n        visible: false,\r\n        confirmLoading: false,\r\n        teamId: null,\r\n        loading:false,\r\n        dataSource:[],\r\n        // 表头\r\n        columns: [\r\n          {\r\n            title: '昵称',\r\n            align:\"center\",\r\n            dataIndex: 'nickName'\r\n          },\r\n          {\r\n            title: '手机号',\r\n            align:\"center\",\r\n            dataIndex: 'phone'\r\n          },\r\n          {\r\n            title: 'V云号',\r\n            align:\"center\",\r\n            dataIndex: 'code'\r\n          },\r\n          {\r\n            title: '操作',\r\n            dataIndex: 'action',\r\n            align:\"center\",\r\n            scopedSlots: { customRender: 'action' },\r\n          }\r\n        ],\r\n        url: {\r\n          list: '/system/appuserinfo/findBigTeamUserList',\r\n          delete: '/system/appuserinfo/delTeamByUserId'\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      open (record) {\r\n        this.visible = true;\r\n        this.teamId = record.id\r\n        this.loadData();\r\n      },\r\n      loadData() {\r\n        if(!this.url.list){\r\n          this.$message.error(\"请设置url.list属性!\")\r\n          return\r\n        }\r\n        var params = { teamId: this.teamId };//查询条件\r\n        this.loading = true;\r\n        getAction(this.url.list, params).then((res) => {\r\n          if (res.success) {\r\n            this.dataSource = res.result;\r\n          }\r\n          if(res.code===510){\r\n            this.$message.warning(res.message)\r\n          }\r\n          this.loading = false;\r\n        })\r\n      },\r\n      handleCancel () {\r\n        this.$emit('close');\r\n        this.visible = false;\r\n      },\r\n    //  删除成员\r\n      lookDelete (userId) {\r\n        const param = {\r\n          teamId: this.teamId,\r\n          userId: userId\r\n        }\r\n        const that = this;\r\n        that.confirmLoading = true;\r\n        getAction(this.url.delete, param).then(res => {\r\n          if(res.success){\r\n            that.$message.success(res.message);\r\n          }else{\r\n            that.$message.warning(res.message);\r\n          }\r\n        }).finally(() => {\r\n          that.confirmLoading = false;\r\n          this.loadData()\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views/team/modules"}]}